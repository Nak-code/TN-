<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKrKKabhKqL_eF7XqqO2Ry5iiQdkEWxt0Y-w&s">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>
    <article id="New" class="py-3">
        <div class="box-card container"  id="newpro">
            <h2>TOP PICK FOR 2024</h2>
            <div class="row" id="newProduct">
      
            </div>
        </div>
      </article>
</body>
</html>
<script type="module">
     import {products} from './data.js';
  products.reverse();
  $(document).ready(function(){
    function newProduct(){
      var i=0;
      var product='';
      products.forEach((e)=>{
          if(i<10){
              if(e.reqular_price!=0){
                  product+=`
                  <div class="col-6 col-xl-3 mt-3">
                  <div class="card" target="_blank" data-id="${e.id}">
                      <div class="image">
                          <img class="w-100" src="${e.image}" alt="">
                      </div>
                      <div class="title p-2">
                          <span><b>US ${e.sale_price}</b>
                          </del>
                          <p>${e.title}</p>
                          <div class="icon">
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                          </div>
                      </div>
                  </div>
              </div>
                  `;
              }else{
                  product+=`
                      <div class="col-6 col-xl-3 mt-3">
                  <div class="card"  data-id="${e.id}">
                      <h6>Promotion</h6>
                      <div class="image">
                          <img class="w-100" src="${e.image}" alt="">
                      </div>
                      <div class="title p-2">
                          <span><b>US ${e.sale_price}</b>
                          <del><b>US ${e.reqular_price}</b>
                          </del>
                          <p>${e.title}</p>
                          <div class="icon">
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                          </div>
                      </div>
                  </div>
              </div>
                  `;
              }
              i++;
              $('#newProduct').html(product);

          }        
      })
      }
      newProduct()

      function getDetail(){
          $('.card').click(function(){
              const id=$(this).attr('data-id');
              products.forEach(e=>{
                  if(id==e.id){
                       $('section').html(`
                       <div class="container mt-4">
                          <div class="row">
                              <div class="col-5">
                                  <img width="400px" height="600px" src="${e.image}" alt="">
                              </div>
                              <div class="col-7">
                              <div style="display: flex; flex-direction: column; gap: 20px; align-items: start;" class="detail" >
                                  <h4>${e.title}</h4>
                                  <h4>Sale Price : US ${e.sale_price}</h4>
                                  <h4>Size :${e.size}</h4> 
                                  <h4>Color :${e.color}</h4> 
                                  <h4>Description:<h4 class="ms-2">${e.description}</h4></h4>
                              </div>
                              </div>
                          </div>
                      </div>`)
                  }
              })

          })
      }
      getDetail()
  })
</script>