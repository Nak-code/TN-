<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKrKKabhKqL_eF7XqqO2Ry5iiQdkEWxt0Y-w&s">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<style>

    #New .box-card .row .col-xl-4:nth-child(1){
        display: none;
    }
   h2{
    text-transform: uppercase;
   }
    .category ul{
        list-style: none;
        display: flex;
        flex-direction: column;
    }
    .category ul li{
        width: 90%;
        padding: 15px 10px;
    }
    .category ul li:nth-child(2),.category ul li:nth-child(4){
        background-color: rgb(239, 201, 8);
        & a{
            color: #fff;
        }
    }
    .category ul li a{
        text-decoration: none;
        text-transform: uppercase;
        color: #333;
        font-weight: bold;
    }
    .price{
        display: flex;
        gap: 15px;
    }
    @media (max-width: 575.98px){
        #New .box-card .row .col-xl-4:nth-child(1){
        display: block;
        }
        .category h2{
            text-align: center;
        }
        .price{
            display: flex;
            justify-content: center;

        }
        #relate{
            display: none;
        }

    }
</style>
<body>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">FEEDBACK</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form action="">
                <div class="row">
                    <div class="col-12 col-xl-6 col-lg-6">
                        <label for="name" class="form-label">Name</label>
                        <input type="text" name="" id="name" class="form-control">
                    </div>
                    <div class="col-12 col-xl-6 col-lg-6">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" name="" id="email" class="form-control">
                    </div>
                    <div class="col-12 col-xl-6 col-lg-6">
                        <label for="phone" class="form-label">Phone Number</label>
                        <input type="text" name="" id="phone" class="form-control">
                    </div>
                    <div class="col-12 col-xl-6 col-lg-6">
                        <label for="add" class="form-label">Address</label>
                        <input type="text" name="" id="add" class="form-control">
                    </div>
                    <div class="col-12 col-xl-12 col-lg-12">
                        <label for="dis" class="form-label">Address</label>
                        <textarea name="" id="dis" class="form-control"></textarea>
                    </div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-primary"><i class="bi bi-send mx-2"></i>Send</button>
            </div>
          </div>
        </div>
      </div>
      <section class="container">
        <div class="row">
            <div class="col-12 col-xl-8 ">
                <article id="New" >
                    <div class="box-card " id="newpro">
                        <h2 class="text-center">New Products</h2>
                        <div class="row " id="newProduct" >

                        </div>
                    </div>
                  </article>
            </div>
            <div class="col-12 col-xl-4 ">
                <div class="category py-5">
                    <h2 class="mb-3">CATEGORIES</h2>
                    <ul>
                        <li><a href="">Man</a></li>
                        <li><a href="">Woman</a></li>
                        <li><a href="">Boy</a></li>
                        <li><a href="">Girl</a></li>
                    </ul>
                    <h2>PROMOTIONS</h2>
                    <div class="price ps-3">
                        <button class="btn btn-outline-danger my-3 ">Promotion</button>
                    </div>
                    <h2>PRICE</h2>
                    <div class="price w-100 ps-3">
                        <button class="btn btn-outline-warning" id="lowprice">Low Price</button>
                        <button class="btn btn-outline-warning" id="hightprice">Hight Price</button></div>
                </div>
            </div>
        </div>
        <article id="relate" class="py-3">
            <div class="box-card container" >
                <h2 class="text-center">Related Products</h2>
                <div class="row" id="popularProduct">
                    
                </div>
            </div>
        </article> 
      </section>   
</body>
</html>
<script type="module">
    import {products} from './data.js';
    products.reverse();
    $(document).ready(function(){
      function newProduct(){
      var i=0;
      var product='';
      products.forEach((e)=>{
          if(i<4){
              if(e.reqular_price==0){
                  product+=`
                  
                  <div class="col-6 col-xl-4 mt-3">
                  <div class="card" data-id="${e.id}">
                      <div class="image">
                          <img class="w-100" src="${e.image}" alt="">
                      </div>
                      <div class="title p-2">
                          <span><b>US ${e.sale_price}</b>
                          </del>
                          <p>${e.title}</p>
                          <div class="icon">
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                          </div>
                      </div>
                  </div>
              </div>
                  `;
              }else{
                  product+=`
                      <div class="col-6 col-xl-4 mt-3">
                  <div class="card" data-id="${e.id}">
                      <h6>Promotion</h6>
                      <div class="image">
                          <img class="w-100" src="${e.image}" alt="">
                      </div>
                      <div class="title p-2">
                          <span><b>US ${e.sale_price}</b>
                          <del><b>US ${e.reqular_price}</b>
                          </del>
                          <p>${e.title}</p>
                          <div class="icon">
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                          </div>
                      </div>
                  </div>
              </div>
                  `;
              }
              i++;
              $('#newProduct').html(product);

          }        
      })
      }
      newProduct()

      function popularProduct(){
          products.sort((a,b)=>a.views-b.views);
          console.log(products);
          var product='';
          var i=0;
          products.forEach((e)=>{
          if(i<4){
              if(e.reqular_price==0){
                  product+=` 
                  <div class="col-6 col-xl-3 mt-3">
                  <div class="card" data-id="${e.id}">
                      <div class="image">
                          <img class="w-100" src="${e.image}" alt="">
                      </div>
                      <div class="title p-2">
                          <span><b>US ${e.sale_price}</b>
                          </del>
                          <p>${e.title}</p>
                          <div class="icon">
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                          </div>
                      </div>
                  </div>
              </div>
                  `;
              }else{
                  product+=`
                      <div class="col-6 col-xl-3 mt-3">
                  <div class="card" data-id="${e.id}">
                      <h6>Promotion</h6>
                      <div class="image">
                          <img class="w-100" src="${e.image}" alt="">
                      </div>
                      <div class="title p-2">
                          <span><b>US ${e.sale_price}</b>
                          <del><b>US ${e.reqular_price}</b>
                          </del>
                          <p>${e.title}</p>
                          <div class="icon">
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                              <i class="bi bi-star"></i>
                          </div>
                      </div>
                  </div>
              </div>
                  `;
              }
              i++;
              $('#popularProduct').html(product);

          }        
      }) 
      }
      popularProduct()

      function getDetail(){
          $('.card').click(function(){
              const id=$(this).attr('data-id');
              products.forEach(e=>{
                  if(id==e.id){
                       $('section').html(`
                       <div class="container mt-4">
                          <div class="row">
                              <div class="col-5">
                                  <img width="400px" height="600px" src="${e.image}" alt="">
                              </div>
                              <div class="col-7">
                              <div style="display: flex; flex-direction: column; gap: 20px; align-items: start;" class="detail" >
                                  <h4>${e.title}</h4>
                                  <h4>Sale Price : US ${e.sale_price}</h4>
                                  <h4>Size :${e.size}</h4> 
                                  <h4>Color :${e.color}</h4> 
                                  <h4>Description:<h4 class="ms-2">${e.description}</h4></h4>
                              </div>
                              </div>
                          </div>
                      </div>`)
                  }
              })

          })
      }
      getDetail()

    })
  
  </script>